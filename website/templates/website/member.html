{% extends "website/base.html" %}

{% block pagetitle %}{{news.title}}{% endblock %}

{% load static %}
{% load thumbnail %}
{% load cropping %}
{% load ml_tags %}

{% block stylesheets %}
  <link rel="stylesheet" href="{% static 'website/css/news-item.css' %}">
  <link rel="stylesheet" href="{% static 'website/css/person-page.css' %}">
  {% comment %} <link rel="stylesheet" href="{% static 'website/css/people.css' %}"> {% endcomment %}
{% endblock %}

{% block maincarousel %}
	{% comment %} <div style="min-height: 40px">&nbsp; {% endcomment %}
			{# Uncomment the following if you want to have a carousel on the people page #}
			{# {% include "snippets/display_short_carousel_snippet.html" %} #}
	{% comment %} </div> {% endcomment %}
{% endblock %}

{% block content %}

{% comment %}
Bootstrap requires a containing element to wrap site contents and house our grid system. 
You may choose one of two containers to use in your projects:
 - .container for responsive fixed width container
 - .container-fluid for full width container, spanning the entire width of your viewport. 
Note that, due to padding and more, neither container is nestable.
See: https://getbootstrap.com/docs/3.4/css/#overview-container
{% endcomment %}
<div class="container makelab-container makelab-person">
	
	<div class="row">
    {% if news %}
      <div class="col-md-8 person-image-and-bio-container">
    {% else %}
      <div class="col-md-10 person-image-and-bio-container">
    {% endif %}
      <div class="person-image">
        <img class="swap-image" onmouseover="swapImage(this)" onmouseout="swapImage(this)"
          src="{% thumbnail person.image person.get_thumbnail_size_as_str box=person.cropping crop=True upscale=True detail=True%}" 
          alt="{{ person.get_full_name }}" 
          data-alt-src="{% thumbnail person.easter_egg person.get_thumbnail_size_as_str box=person.easter_egg_crop crop=True upscale=True detail=True %}" 
          width=90%"/>
      </div>
      <div class="person-bio">
        <h2 class="person-name-header">{{person.get_full_name}}</h2>
        <div class="person-title">{{ position.title }}, {{ position.department}} </div>
        <div class="person-affiliation">
          {{ position.school }} 
        </div>
        <p><a href="https://www.example.com">Website</a></p>
        <div class="person-bio-text">
          {{person.bio}}
        </div>
      </div>
    </div>

		{% comment %} <div class="col-md-8">
			<div class="person-image-and-bio">
				{{person}}
        {% if person.bio_datetime_modified %}
          
        {% endif %}
			</div>
		</div> {% endcomment %}
		
		<!-- Sidebar for related news -->
    {% if news %}
		  <div class="col-md-4 news-item-sidebar">
				<h2 class="news-item-sidebar-header">Recent News</h2>
				<ul class="news-item-sidebar-ul">
				{% for recent_news_item in news|slice:":3" %}
					{% include "snippets/display_news_item_sidebar_snippet.html" %}
				{% endfor %}			
		  </div>
    {% endif %}
	</div>

  {% comment %} <div id="makelab-recent-projects" class="container-fluid makelab-content-container">
    <h1 class="section-header" style="margin-top:25px">Recent Projects</h1>
    <div class="project-grid landing-page-project-grid">
      {% for project in projects %}
        {% include "snippets/display_project_snippet.html" %}
      {% endfor %}
    </div>
    <div>Load more...</div>
  </div> {% endcomment %}
</div>
{% endblock %}
