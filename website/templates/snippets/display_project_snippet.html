{# This is a reusable template for displaying a project #}
{# See: https://docs.djangoproject.com/en/dev/ref/templates/builtins/#include #}

{% load static %}
{% load thumbnail %}
{% load cropping %}
{% load ml_tags %}

{% comment %} <div class="col-ts-12 col-xs-6 col-sm-4 col-lg-3 individual-project-listing">
  <a href="{% url 'website:project' project.short_name %}">
    <div style="background: white; width:100%; contain:content; position:relative;">
      <img style="width:100%; height: auto; position: relative; object-fit: cover; border-radius: 5%;" src="{% thumbnail project.gallery_image '300x180' crop='center' %}" />
      {% if project.has_award %}
        <img src="/static/website/img/awardoverlay.png" class="project-award-banner" />
      {% endif %}
    </div>
  </a>
  <a href="{% url 'website:project' project.short_name %}"><p class="artifact-title line-clamp-one-line">{{ project.name }}</p></a>
  <p class="artifact-venue line-clamp-one-line" style="margin: 0px; color: #6E6E6E;">
    {{ project.start_date.year }}
    {% if project.has_ended %}
      {% if project.start_date.year != project.end_date.year %}
        – {{ project.end_date.year }}
      {% endif %}
    {% else %}
      – Present
    {% endif %}
  </p>
</div> {% endcomment %}

<div class="project-card">
  <div class="project-image">
    <a href="{% url 'website:project' project.short_name %}">
      <img class="project-thumbnail" 
           src="{% thumbnail project.gallery_image '300x180' crop='center' %}" 
           alt="{{project.get_thumbnail_alt_text}}"/>
      {% if project.has_award %}
        <img class="project-award-banner" src="/static/website/img/awardoverlay.png" />
      {% endif %}
    </a>
  </div>
  <div class="project-info">
    <a href="{% url 'website:project' project.short_name %}"><p class="artifact-title line-clamp-one-line">{{ project.name }}</p></a>
    <p class="artifact-venue line-clamp-one-line" style="margin: 0px; color: #6E6E6E;">
      {{ project.start_date.year }}
      {% if project.has_ended %}
        {% if project.start_date.year != project.end_date.year %}
          – {{ project.end_date.year }}
        {% endif %}
      {% else %}
        – Present
      {% endif %}
  </div>
  {% comment %} <h3 class="news-card-headline"><a href="{% url 'website:news' news_id = n.id %}">{{ n.title }}</a></h3>
  <div class="news-card-byline">
    <span class="news-card-author">BY <a href="{% url 'website:member' member_id = n.author.id %}">{{ n.author }}</a></span>
    <span class="news-card-date">• {{ n.short_date }}</span>
  </div> {% endcomment %}
</div>
